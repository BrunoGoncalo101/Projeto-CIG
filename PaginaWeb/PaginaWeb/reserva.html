<!DOCTYPE html>
<html lang="pt">
  <head>
    <!-- Configurações e links essenciais da página -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Finalizar Reserva - StayIn</title>

    <!-- Links CSS e Fonts -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />
    <!-- Google Fonts para a tipografia do site -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="icon"
      type="image/x-icon"
      href="/img/android-chrome-512x512.png"
    />
  </head>
  <body>
    <!-- =================================================================
            NAVBAR DA RESERVA
            ================================================================== -->
    <header class="py-3 border-bottom shadow-sm bg-white">
      <div class="container d-flex justify-content-between align-items-center">
        <a class="navbar-brand fw-bold text-primary" href="index.html"
          >Stay<span class="logoColor">In</span>
        </a>
        >
        <div class="text-muted">
          <i class="bi bi-lock-fill me-2"></i><span>Checkout Seguro</span>
        </div>
      </div>
    </header>
<!-- =================================================================
            CORREDOR (PASSOS DE RESERVA)
            ================================================================== -->
    <main class="container my-5">
      <div class="stepper d-flex justify-content-between mb-5">
        <div class="step active">
          <div class="step-icon">1</div>
          <div class="step-label">Seus Dados</div>
        </div>
        <div class="step">
          <div class="step-icon">2</div>
          <div class="step-label">Pagamento</div>
        </div>
        <div class="step">
          <div class="step-icon">3</div>
          <div class="step-label">Confirmação</div>
        </div>
      </div>

      <div class="row gx-lg-5">
        <div class="col-12 col-lg-7 mb-4">
          <h2 class="fw-bold mb-4">Finalize a sua Reserva</h2>
          <form id="booking-form" class="needs-validation" novalidate>
            <!-- PASSO 1: DADOS PESSOAIS -->
            <div id="step-1" class="form-step">
              <div class="card shadow-sm mb-4">
                <div class="card-header">
                  <h5 class="mb-0">
                    <i class="bi bi-person-circle me-2"></i>Dados Pessoais
                  </h5>
                </div>
                <div class="card-body">
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="firstName" class="form-label"
                        >Primeiro Nome</label
                      ><input
                        type="text"
                        class="form-control"
                        id="firstName"
                        required
                        autocomplete="given-name"
                        placeholder="Miguel"
                      />
                      <div class="invalid-feedback">Obrigatório.</div>
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="lastName" class="form-label"
                        >Último Nome</label
                      ><input
                        type="text"
                        class="form-control"
                        id="lastName"
                        required
                        autocomplete="family-name"
                        placeholder="Mangueiras"
                      />
                      <div class="invalid-feedback">Obrigatório.</div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="email" class="form-label"
                      >Endereço de Email</label
                    ><input
                      type="email"
                      class="form-control"
                      id="email"
                      placeholder="email@exemplo.com"
                      required
                      autocomplete="email"
                    />
                    <div class="invalid-feedback">Email inválido.</div>
                  </div>
                </div>
              </div>
              <button
                type="button"
                class="btn btn-primary w-100 btn-lg next-step-btn"
              >
                Próximo Passo: Pagamento
              </button>
            </div>

            <!-- PASSO 2: PAGAMENTO -->
            <div id="step-2" class="form-step" style="display: none">
              <div class="card shadow-sm mb-4">
                <div class="card-header">
                  <h5 class="mb-0">
                    <i class="bi bi-wallet2 me-2"></i>Escolha o Método de
                    Pagamento
                  </h5>
                </div>
                <div class="card-body">
                  <!-- Opções de Escolha com Radio Buttons -->
                  <div class="mb-3">
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="paymentMethod"
                        id="payment-cc"
                        value="Cartão de Crédito"
                        required
                      />
                      <label class="form-check-label" for="payment-cc">
                        <i class="bi bi-credit-card-fill me-2"></i> Cartão de
                        Crédito
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="paymentMethod"
                        id="payment-mbway"
                        value="MB WAY"
                        required
                      />
                      <label class="form-check-label" for="payment-mbway">
                        <i class="bi bi-phone-fill me-2"></i> MB WAY
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="radio"
                        name="paymentMethod"
                        id="payment-paypal"
                        value="PayPal"
                        required
                      />
                      <label class="form-check-label" for="payment-paypal">
                        <i class="bi bi-paypal me-2"></i> PayPal
                      </label>
                      <div class="invalid-feedback mt-2">
                        Por favor, selecione um método de pagamento.
                      </div>
                    </div>
                  </div>
                  <hr />

                  <!-- Detalhes do Cartão de Crédito (escondidos por defeito) -->
                  <div id="credit-card-details" class="d-none">
                    <h6 class="mb-3">Detalhes do Cartão</h6>
                    <div class="mb-3">
                      <label for="cardName" class="form-label"
                        >Nome no Cartão</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="cardName"
                        placeholder="Miguel Mangueiras"
                        autocomplete="cc-name"
                      />
                      <div class="invalid-feedback">Obrigatório.</div>
                    </div>
                    <div class="mb-3">
                      <label for="cardNumber" class="form-label"
                        >Número do Cartão</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        size="19"
                        maxlength="19"
                        id="cardNumber"
                        placeholder="xxxx xxxx xxxx xxxx"
                      />
                      <div class="invalid-feedback">Obrigatório.</div>
                    </div>
                    <div class="row">
                      <div class="col-md-6 mb-3">
                        <label for="cardExpiry" class="form-label"
                          >Validade</label
                        >
                        <input
                          type="month"
                          class="form-control"
                          id="cardExpiry"
                          placeholder="MM/AAAA"
                        />
                        <div class="invalid-feedback">Obrigatório.</div>
                      </div>
                      <div class="col-md-6 mb-3">
                        <label for="cardCVC" class="form-label">CVC</label>
                        <input
                          type="text"
                          class="form-control"
                          id="cardCVC"
                          size="3"
                          maxlength="3"
                          placeholder="123"
                        />
                        <div class="invalid-feedback">Obrigatório.</div>
                      </div>
                    </div>
                  </div>

                  <!-- Placeholder para MB WAY (escondido) -->
                  <div id="mbway-details" class="d-none">
                    <label for="mbway-phone" class="form-label"
                      >Número de Telemóvel</label
                    >
                    <input
                      type="tel"
                      class="form-control"
                      id="mbway-phone"
                      pattern="[0-9]{9}"
                      inputmode="numeric"
                      maxlength="9"
                      placeholder="912 345 678"
                    />
                    <div class="form-text">
                      Irá receber uma notificação na app MB WAY para confirmar o
                      pagamento.
                    </div>
                  </div>
                </div>
              </div>
              <div class="d-flex justify-content-between">
                <button
                  type="button"
                  class="btn btn-outline-secondary prev-step-btn"
                >
                  Voltar
                </button>
                <button type="button" class="btn btn-primary next-step-btn">
                  Próximo Passo: Confirmação
                </button>
              </div>
            </div>

            <!-- PASSO 3: CONFIRMAÇÃO FINAL -->
            <div id="step-3" class="form-step" style="display: none">
              <h4 class="fw-bold mb-3">Confirme os seus dados</h4>
              <div class="card shadow-sm">
                <div class="card-body p-4">
                  <h6>Dados Pessoais:</h6>
                  <p class="text-muted small">
                    Nome: <strong id="confirm-nome" class="text-body"></strong
                    ><br />Email:
                    <strong id="confirm-email" class="text-body"></strong>
                  </p>
                  <hr />
                  <h6>Método de Pagamento:</h6>
                  <p class="text-muted small">
                    Cartão:
                    <strong id="confirm-pagamento" class="text-body"></strong>
                  </p>
                  <div class="alert alert-warning small mt-3">
                    Ao clicar em "Confirmar Reserva", a sua reserva será
                    finalizada e o pagamento processado.
                  </div>
                </div>
              </div>
              <div class="d-flex justify-content-between mt-4">
                <button
                  type="button"
                  class="btn btn-outline-secondary prev-step-btn"
                >
                  Voltar
                </button>
                <button type="submit" class="btn btn-primary btn-lg">
                  Confirmar Reserva
                </button>
              </div>
            </div>
          </form>
        </div>

        <!-- SIDEBAR com o resumo da reserva (não muda) -->
        <aside class="col-12 col-lg-5">
  <div class="sticky-top" style="top: 100px">
    <div class="card shadow-sm">
      <img
        src="img/Resultado1.jpg"
        class="card-img-top"
        alt="Hotel Central"
        style="height: 400px"
      />
      <div class="card-body p-4">
        <h5 class="card-title fw-bold">Hotel Central</h5>
        <p class="small text-muted">
          <i class="bi bi-geo-alt-fill me-1"></i>Lousada
        </p>
        <hr />
        <h6 class="fw-semibold">A sua reserva</h6>
        <div class="d-flex justify-content-between small">
          <span class="text-muted">Check-in</span>
          <span id="resumo-checkin">10/12/2025</span>
        </div>
        <div class="d-flex justify-content-between small">
          <span class="text-muted">Check-out</span>
          <span id="resumo-checkout">12/12/2025</span>
        </div>
        <div class="d-flex justify-content-between small">
          <span class="text-muted">Total de hóspedes</span>
          <span id="resumo-hospedes">2 Adultos</span>
        </div>
        <hr />
        <h6 class="fw-semibold">Resumo do custo</h6>
        <div class="d-flex justify-content-between small mt-2">
          <span class="text-muted">Preço por noite</span>
          <span id="preco-por-noite">€55,00</span>
        </div>
        <div class="d-flex justify-content-between small">
          <span class="text-muted">Nº de noites</span>
          <span id="numero-de-noites">2</span>
        </div>
        <div class="d-flex justify-content-between small">
          <span class="text-muted">Subtotal</span>
          <span id="subtotal">€110,00</span>
        </div>
        <div class="d-flex justify-content-between small">
          <span class="text-muted">Taxa de turismo</span>
          <span id="taxa-turismo">€12,00</span>
        </div>
        <hr />
        <div class="d-flex justify-content-between align-items-center mt-2">
          <span class="fw-bold fs-5">Preço Total</span>
          <span class="fw-bold fs-4 text-primary" id="resumo-preco">€122,00</span>
        </div>
      </div>
    </div>
  </div>
</aside>
      </div>
    </main>
    <!-- =================================================================
    FOOTER
    ================================================================== -->
    <footer class="py-3 mt-5 bg-light">
      <div class="container text-center text-muted">
        <small>© 2025 StayIn • Política de Privacidade • Ajuda</small>
      </div>
    </footer>
    <!-- =================================================================
    JAVASCRIPT
    ================================================================== -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/script.js" defer></script>
  </body>
</html>
